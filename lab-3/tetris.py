import pygame
import random


# ===============================
# Тогтмол утгууд (CONSTANTS)
# ===============================

# Дэлгэцийн нийт өргөн
SCREEN_WIDTH = 300

# Дэлгэцийн нийт өндөр
SCREEN_HEIGHT = 600

# Нэг блокын хэмжээ (pixel)
BLOCK_SIZE = 30

# Секундэд ажиллах frame
FPS = 60


# ===============================
# TetrisGame CLASS
# ===============================

class TetrisGame:
    def __init__(self, screen):
        # дэлгэцийг хадгалах
        self.screen = screen

        # тоглоом ажиллаж байгаа эсэх төлөв
        self.running = True

        # clock объект үүсгэх
        # FPS удирдахад ашиглагдана
        self.clock = None

        # grid (тоглоомын талбай) үүсгэх
        self.grid = None

        # одоогийн унаж буй дүрс үүсгэх
        self.current_shape = None


    def run(self):
        # тоглоомын үндсэн давталт
        # while ашиглан тоглоом ажиллана
        # event боловсруулах
        # update логик ажиллуулах
        # draw функц дуудах
        pass


    def handle_events(self):
        # pygame event-үүдийг шалгах
        # window хаах event шалгах
        # keyboard товч дарагдсан эсэх шалгах
        # зүүн, баруун, доош хөдөлгөөн удирдах
        # эргүүлэх товч шалгах
        pass


    def update(self):
        # дүрс автоматаар доош унах логик
        # дүрс доошлох боломжгүй болсон эсэх шалгах
        # мөр дүүрсэн эсэх шалгах
        # шинэ дүрс үүсгэх
        # game over нөхцөл шалгах
        pass


    def draw(self):
        # дэлгэцийг нэг өнгөөр цэвэрлэх
        # grid зурах
        # одоогийн дүрс зурах
        # дэлгэцийг шинэчлэх
        pass


# ===============================
# GRID CLASS
# ===============================

class Grid:
    def __init__(self):
        # 2 хэмжээст массив (row, col) үүсгэх
        # бүх нүдийг хоосон байдалтай болгох
        pass


    def is_valid_position(self, shape):
        # дүрс талбайн хилээс гарч байгаа эсэх шалгах
        # бусад блоктой мөргөлдөж байгаа эсэх шалгах
        pass


    def add_shape(self, shape):
        # дүрсийг grid дээр тогтмол байрлуулах
        # дүрс унах боломжгүй болсон үед дуудагдана
        pass


    def clear_full_rows(self):
        # дүүрсэн мөр байгаа эсэх шалгах
        # дүүрсэн мөрийг устгах
        # дээд мөрүүдийг доош шилжүүлэх
        pass


# ===============================
# SHAPE CLASS
# ===============================

class Shape:
    def __init__(self):
        # дүрсний хэлбэр (I, O, T, L, S, Z)
        # анхны байрлал (x, y)
        # дүрсний өнгө
        pass


    def move_left(self):
        # дүрсийг зүүн тийш нэг нүд шилжүүлэх
        pass


    def move_right(self):
        # дүрсийг баруун тийш нэг нүд шилжүүлэх
        pass


    def move_down(self):
        # дүрсийг доош нэг нүд шилжүүлэх
        pass


    def rotate(self):
        # дүрсийг 90 градусаар эргүүлэх
        pass


# ===============================
# HELPER FUNCTIONS
# ===============================

def draw_grid(screen):
    # grid-ийн шугамуудыг дэлгэц дээр зурах
    # босоо болон хэвтээ шугам зурна
    pass


def draw_shape(screen, shape):
    # одоогийн унаж буй дүрсийг дэлгэц дээр зурах
    # shape-ийн блок бүрийг зурна
    pass
def get_random_shape():
    # санамсаргүй дүрс үүсгэж буцаах
    pass